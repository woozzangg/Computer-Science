# 인터페이스 구현



## 인터페이스

- 애플리케이션 개발 단계에 정의된 내/외부 **모듈** 및 **컴포넌트** 간의 데이터 교환과 데이터 처리를 위한 기능

  - 모듈

    - 만들어진 산출물의 구현 단위
    - 독립된 하나의 기능을 가지고, 재사용 가능

  - 컴포넌트

    - 실행 중인 소프트웨어의 활동 단위

    - 독립된 하나의 기능을 가지고, 재사용 가능

  - 모듈 vs 컴포넌트의 차이점 예시

    - 하나의 서버가 10명의 클라이언트에게 정보를 제공한다면 서버, 클라이언트 총 2개의 모듈과 서버1개, 클라이언트 10개 총 11개의 컴포넌트라고 할 수 있다.

 

### 인터페이스 기능 구현

- 개발하고자 하는 응용 소프트웨어와 연계 대상 모듈 간의 **세부 설계서**를 확인하여 일관되고 정형화된 인터페이스 기능을 구현할 수 있다.
  - **세부 설계서**
    - 컴포넌트 명세서 : 컴포넌트의 개요, 내부 클래스의 동작, 인터페이스를 통해 외부와 통신하는 명세
    - 인터페이스 명세서 : 컴포넌트 명세서에 명시된 인터페이스 클래스의 세부적인 조건 및 기능을 명시한 명세서



#### 절차

##### 1. 사전에 정의된 기능에 대한 구체적 분석

- 상세하게 정의된 기능 구현 정의 내용을 토대로 어떻게 구현할 것인지 분석

<table>
    <tr>
		<td>기능 구현 정의</td>
        <td>기능</td>
        <td>분석 결과</td>
    </tr>
    <tr>
    	<td rowspan="3">송신 측에서 필요 대상을 선택하여 수신 측에 데이터 전송</td>
        <td>대상자 선택</td>
        <td>✔DB에 저장된 인사 정보를 SQL로 선택하여 인터페이스 대상을 확인</td>
    </tr>
    <tr>
        <td>인터페이스 데이터 생성</td>
        <td>✔<strong>JSON</strong> 또는 인터페이스 테이블 형식에 맞게 DB에 있는 정보 가공</td>
    </tr>
    <tr>
    	<td>인터페이스 데이터 전송 요청</td>
        <td>✔인터페이스 데이터를 생성 후 해당 데이터를 https에서 인터페이스 또는 수신 측으로 전송 요청</td>
    </tr>
    <tr>
    	<td rowspan="5">필요 항목에 대해서 데이터 전달</td>
        <td>인터페이스 데이터 전송</td>
        <td>✔수신지 주소에 <strong>REST</strong> 방식으로 전달될 수도 있으며 DB 커넥션을 이용하여 DB 프로시저, 트리거 등을 활용하여 전송</td>
    </tr>
    <tr>
    	<td>인터페이스 데이터 수신</td>
        <td>
            ✔ 인터페이스 데이터를 수신하고 데이터의 형식이 맞는지 점검<br>
			✔ 각 규칙을 사전에 정의하고 이를 활용
        </td>
    </tr>
    <tr>
    	<td>인터페이스 데이터 파싱</td>
        <td>✔인터페이스 객체를 파서를 이용하여 파싱하거나 인터페이스 테이블에서 선택</td>
    </tr>
    <tr>
    	<td>인터페이스 데이터 검증</td>
        <td>✔각 세부 데이터의 포맷과 논리적인 제약조건의 오류 검사</td>
    </tr>
    <tr>
    	<td>후속 기능 수행</td>
        <td>✔각 세부 데이터를 활용해서 수신 시스템에서 정의된 동작을 진행</td>
    </tr>
    <tr>
    	<td rowspan="2">전달 후 수신 측으로부터 전달 여부에 대한 값을 반환</td>
        <td>인터페이스 수신 결과 생성, 전송</td>
        <td>✔정상적으로 수신되면 참, 아니면 거짓의 반환 값을 제이슨 형태로 전송</td>
    </tr>
    <tr>
    	<td>수신 측에서 처리한 인터페이스 결과 반영</td>
        <td>✔수신 측에서 보낸 응답 제이슨을 통해 수행 여부를 확인하고 이를 화면상으로 표시</td>
    </tr>
</table>

- JSON (JavaScript Object Notation) : 비동기 브라우저/서버 통신(AJAX)을 위해 "속성-값 쌍", "키-값 쌍"으로 이루어진 데이터 오브젝트를 전달하기 위해 인간이 읽을 수 있는 텍스트를 사용하는 개방형 표준 포맷
- AJAX (Asynchronous JavaScript and XML) : 자바스크립트를 사용한 비동기 통신기술로, 클라이언트와 서버간에 XML 데이터를 주고받는 기술이다.
- REST (REpresentational State Transfer) : 웹과 같은 분산 하이퍼 미디어 환경에서 자원의 존재/상태 정보를 표준화된 HTTP 메소드로 주고받는 웹 아키텍처

##### 2. 인터페이스 구현

###### 데이터 통신을 사용하는 인터페이스 구현

<table>
    <tr>
    	<td>방법</td>
        <td>설명</td>
    </tr>
    <tr>
    	<td>인터페이스 객체 생성 구현</td>
        <td>✔인터페이스 객체를 생성하기 위해서 데이터베이스에 있는 정보를 SQL을 통하여 선택한 후 이를 JSON으로 생성</td>
    </tr>
    <tr>
    	<td>인터페이스 객체 전송 후 전송 결과를 수신 측에서 반환 받도록 구현</td>
        <td>
            ✔송신 측에서 JSON으로 작성된 인터페이스 객체를 <strong>AJAX</strong> 기술로 수신 측에 전송<br>
        	✔수신 측에서는 JSON 인터페이스 객체를 수신받고 이를 파싱 후 처리<br>
        	✔수신 측의 처리 결과값은 송신 측에 True/False 값을 전달하여 인터페이스 성공 여부를 확인 전달
        </td>
    </tr>
</table>


###### 인터페이스 객체를 사용하는 인터페이스 구현

<table>
    <tr>
    	<td>방법</td>
        <td>설명</td>
    </tr>
    <tr>
    	<td>송신 시스템의 인터페이스 테이블</td>
        <td>
            ✔송신 관련 정보를 관리하기 위한 항목과 송신 시스템에서 필요한 항목 구현<br>
        	✔인터페이스 이벤트 발생 시 인터페이스 테이블에 인터페이스 내용이 기록되도록 구현<br>
        	✔데이터 전송을 위해서 DB 커넥션이 수신 측 인터페이스 테이블과 연계되도록 구현<br>
        	✔프로시저, 트리거, 배치 작업 등의 방법을 통해서 수신 테이블로 데이터를 전송하도록 구현
        </td>
    </tr>
    <tr>
    	<td>수신 시스템의 인터페이스 테이블</td>
        <td>
        	✔수신 관련 정보를 관리하기 위한 항목과 수신 시스템에서 필요한 항목 구현<br>
            ✔수신 측 시스템에서는 인터페이스 데이터를 읽은 후 사전에 정의된 데이터 트랜잭션을 진행할 수 있도록 구현<br>
            ✔데이터를 읽을 때나 해당 트랜잭션이 진행될 때 오류가 발생하면 오류 코드 칼럼에 정의된 오류 코드와 오류 내용을 입력하도록 구현
        </td>
    </tr>
</table>